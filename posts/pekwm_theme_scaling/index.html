<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content=""
  />
  
    
      <title>pekwm theme scaling | pekdon</title>
    
  
  <link rel="stylesheet" href="/css/reset.css"/>
  <link rel="stylesheet" href="/css/font.css"/>
  <link rel="stylesheet" href="/css/smigle.css"/>
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
</head>

  <body>
    <div id="root">
      <header>
  <div id="brand">
    <a class="icon-link" href="https://pekdon.pekwm.se/">
      <img
        class="icon"
        src="/images/brandIcon.svg"
      />
    </a>
    <div class="text">
      <a href="https://pekdon.pekwm.se/"><h1>pekdon</h1></a>
      <h3>ramblings of a northern geek</h3>
    </div>
  </div>
  <nav>
    
      
        
        <a href="/posts/"><b>Posts</b></a>
      
         | 
        <a href="/tags/"><b>Tags</b></a>
      
         | 
        <a href="/about/"><b>About</b></a>
      
         | 
        <a href="/bikes/"><b>Bikes</b></a>
      
    
  </nav>
  <hr />
</header>

      <div id="content">
        
  <main>
    <article>
      <h1 class="title">pekwm theme scaling</h1>
      
      <div class="post-meta">
  <strong>
    <span>Posted on</span>
    <time>2025-03-15 20:12:25</time>
    
    
  </strong>
  <span> • 218 words</span>
  <span> • 2 minute read</span>
  
  
    <div>
      <span>Tags:</span>
      
        <a href="/tags/pekwm">pekwm</a>, 
        <a href="/tags/themes">themes</a>
    </div>
  
</div>

      <div class="content"><p>Got the question if pekwm supported HiDPI display, or theme scaling more
specifically, and as it did not I got excited about it and started
implementing theme scaling for pekwm and its shipped tools.</p>
<p>A single scaling setting in the <code>Screen</code> section controls the scaling:</p>
<pre tabindex="0"><code>Screen {
    Scale = &#34;2.0&#34;
}
</code></pre><p>If the factor is an integer, pixels are scaled to 4, 9, 16 etc pixels
without any scaling artifacts. It is possible to specify 1.5 but scaling
result will not be as clean.</p>
<p>An example of what it looks like, using scale 2.0 on a standard DPI monitor
together with bitmap fonts in the terminal:</p>
<p><img src="../../images/posts/pekwm_theme_scale_bitmap_font.png" alt="scaled bitmap font"></p>
<h3 id="what-is-scaled">What is scaled</h3>
<ul>
<li>Values specified in pixels are multiplied with the factor when loaded
from the configuration.</li>
<li>Images are scaled at load time.</li>
<li>Cairo fonts size is multiplied with the factor.</li>
<li>Xft fonts is <em>NOT</em> multiplied with the factor, they adjust with DPI setting
of your display.</li>
<li>Bitmap fonts are rendered as is and then scaled (this is an area with much
room for improvement performance wise)</li>
</ul>
<h3 id="extras">Extras</h3>
<p>In additions to just scaling the values on load, there is a new atom set on
the root window <code>_PEKWM_THEME_SCALE</code> that is updated whenever the scale is
changed causing <em>pekwm_panel</em> and <em>pekwm_dialog</em> to reload the theme and
resize itself for the new scale.</p>
<h3 id="demo">Demo</h3>


<iframe width="560" height="315" src="https://www.youtube.com/embed/SpkBwfrBJ1c?si=PdqVtKbaGhO74nIn" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>


</div>
    </article>
  </main>

      </div>
      <footer>
  <hr />
  
  <p class="copyright">
    Copyright © 2025
    <a href="https://pekdon.pekwm.se/"><strong>Claes Nästén</strong></a>.
    This work is licensed under the
    <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> license.
  </p>
  <p class="builtWith">
    Built with
    <a href="http://www.gohugo.io/">Hugo</a>,
    using the theme
    <a href="https://gitlab.com/ian-s-mcb/smigle-hugo-theme">smigle</a>,
    which was influenced by the theme
    <a href="https://github.com/sumnerevans/smol">smol</a>.
  </p>
</footer>

    </div>
  </body>
</html>
